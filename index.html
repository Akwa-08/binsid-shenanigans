<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Infinite Blackjack — Trainer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <header class="header">
        <div>
          <h1 class="title">Infinite Blackjack — Trainer</h1>
          <div class="small">Advanced card counting & betting</div>
        </div>
      </header>

      <label class="label">Decks (1–8)</label>
      <input id="defaultDecks" type="number" min="1" max="8" value="8" />

      <label class="label">Estimated decks left</label>
      <input id="decksLeft" type="number" step="0.1" value="6.5" />

      <div class="controls">
        <button id="startNew" class="btn ghost">New game</button>
        <button id="resetGame" class="btn ghost">Reset</button>
      </div>

      <label class="label">Six Card Charlie</label>
      <select id="sixChar"><option value="true">Enabled</option><option value="false">Disabled</option></select>

      <hr>

      <label class="label">Cash balance</label>
      <input id="cashBal" type="number" step="0.01" value="1000" />

      <label class="label">Round bet (min 50, step 50)</label>
      <input id="bet" type="number" step="50" min="50" value="50" />

      <div class="controls">
        <button id="startRound" class="btn">Start Round</button>
        <button id="cancelRound" class="btn ghost" disabled>Cancel</button>
        <button id="endRound" class="btn ghost" disabled>Lock & Resolve</button>
      </div>

      <label class="label">Card input</label>
      <div id="cardButtons" class="cards-grid" role="list"></div>

      <div class="row">
        <input id="manualCard" placeholder="A, 2..10, J Q K" />
        <button id="addManual" class="btn ghost">Add</button>
      </div>

      <div id="cardHistory" class="log"></div>
      <div class="footer">Click card = player; Shift+Click = dealer; Alt+Click = table. "Mark Other Hit" adds burned cards to the count.</div>
    </aside>

    <main class="main">
      <header class="header">
        <div>
          <h2 class="title">Table</h2>
          <div class="small">Card counting analysis & optimal play</div>
        </div>
        <div class="small">Hotkeys: H Hit · D Double · S Stand · P Split</div>
      </header>

      <section class="content">
        <div class="left">
          <div id="handsArea" class="hands"></div>
          <div id="conclusionArea" class="conclusion" hidden></div>
        </div>

        <aside class="right">
          <div class="stats">
            <div class="stat"><div class="label">Running</div><div id="runCount" class="value">0</div></div>
            <div class="stat"><div class="label">True</div><div id="trueCount" class="value">0.00</div></div>
            <div class="stat"><div class="label">Seen</div><div id="seenCount" class="value">0</div></div>
          </div>

          <div class="small" style="margin-top:10px">Balance</div>
          <div id="balanceDisplay" class="value big">1000.00</div>

          <div class="small" style="margin-top:10px">Round history</div>
          <div id="roundList" class="log"></div>

          <div id="suggestBox" class="suggest">No active round</div>

          <div class="small" style="margin-top:8px">Suggested bet (auto-updates)</div>
          <div id="betSuggestion" class="value big">—</div>
          <button id="applyBet" class="btn ghost" style="margin-top:8px">Apply suggested bet</button>

          <!-- Side Bet Analysis Section -->
          <div style="margin-top:16px;padding:12px;background:rgba(255,255,255,0.03);border-radius:10px;border:1px solid rgba(255,255,255,0.05)">
            <div id="sideBetAnalysis"></div>
          </div>

          <div id="oddsArea" class="small" style="margin-top:10px;color:var(--muted)">Action EV info</div>

          <div class="small" style="margin-top:10px">Sim iterations</div>
          <input id="mcIters" type="number" min="200" step="200" value="1600" style="width:140px;margin-top:6px"/>

          <div class="actions">
            <button id="actHit" class="btn secondary">Hit (H)</button>
            <button id="actDouble" class="btn secondary">Double (D)</button>
            <button id="actStand" class="btn secondary">Stand (S)</button>
            <button id="actSplit" class="btn secondary">Split (P)</button>
          </div>

          <!-- Other Players & Table Management Section -->
          <div style="margin-top:16px;padding:12px;background:rgba(255,255,255,0.03);border-radius:10px;border:1px solid rgba(255,255,255,0.05)">
            <div class="small" style="font-weight:800;margin-bottom:8px">Other Players & Table</div>
            
            <div class="small" style="margin-bottom:6px">Table cards</div>
            <div id="tableCards" class="table-cards" style="min-height:32px"></div>

            <div class="small" style="margin-top:10px;margin-bottom:6px">Burned cards</div>
            <div id="burnPile" class="table-cards" style="min-height:32px"></div>

            <div style="display:flex;gap:8px;margin-top:10px;flex-wrap:wrap">
              <button id="undoLast" class="btn">Undo Last</button>
              <button id="drawRandom" class="btn">Draw Random</button>
              <button id="applyBurn" class="btn secondary">Mark Other Hit</button>
            </div>
            
            <div style="display:flex;gap:8px;margin-top:8px">
              <button id="autoBurnLast" class="btn ghost">Burn Last Table</button>
              <button id="clearBurns" class="btn ghost">Clear Burns</button>
            </div>
          </div>

          <div id="oddsArea" class="small" style="margin-top:10px;color:var(--muted)">Action EV info</div>
        </aside>
      </section>
    </main>
  </div>

  <div id="picker" class="picker-overlay" style="display:none">
    <div id="pickerTitle">Select card</div>
    <div id="pickerGrid" class="picker-grid"></div>
    <div class="picker-actions">
      <button id="pickerRandom" class="random-btn">Random</button>
      <button id="pickerCancel" class="btn ghost">Cancel</button>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>